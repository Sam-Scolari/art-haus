---
import { artwork, options } from "../layouts/Layout.astro";
import Button from "./Button.astro";
import Discord from "./Discord.astro";
import Logo from "./Logo.astro";
import Twitter from "./Twitter.astro";
---

<div
  id="effect"
  class="z-50 max-md:hidden w-full flex h-full pointer-events-none bg-white absolute top-0 bg-[url(/tile.svg)] bg-repeat"
>
  <div class="absolute top-0 w-full flex justify-between items-center p-8">
    <div class="flex items-center gap-12">
      <Logo class="w-10 h-10" color="black" />
      <div class="flex gap-4 text-black font-alata">
        <p>Artwork</p>
        <p>Proposals</p>
        <p>About</p>
      </div>
    </div>
    <div class="flex gap-4">
      <Twitter color="black" />
      <Discord color="black" />
    </div>
  </div>
  <div
    class="relative w-full h-full flex flex-col gap-14 justify-center items-center"
  >
    <p
      class="text-8xl max-2xl:text-7xl max-md:text-6xl max-sm:text-5xl px-16 max-sm:px-8 font-belanosima text-black max-w-6xl text-center select-none"
    >
      Great ideas begin with a blank canvas
    </p>
    <Button>Explore</Button>
  </div>
  <p class="absolute left-8 bottom-8 text-black font-alata">
    {
      !options.useDefaultBackground && artwork.length > 0
        ? artwork[0].artist
        : "Art by Brandon Mitghy"
    }
  </p>
</div>

<script>
  import gsap from "gsap";

  const effect = document.getElementById("effect");

  if (effect) {
    effect.style.clipPath = "circle(0px at 0px 0px)";

    // if (window.innerWidth > 768) {
    addEventListener("mousemove", (e) => {
      gsap.to(effect, {
        duration: 0.4,
        clipPath: `circle(100px at ${e.clientX}px ${e.clientY}px)`,
        ease: "ease.out",
      });
    });
  }
  // }
</script>
